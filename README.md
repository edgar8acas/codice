# Codice Server
Server side of web application Codice, aimed at aiding deaf people to improve their vocabulary through interactive readings.  

### Required software (latest stable versions):
- R programming language  
[Windows](https://cloud.r-project.org/bin/windows/base/R-4.0.2-win.exe)
- Node and Npm package manager  
[Windows](https://nodejs.org/dist/v12.18.4/node-v12.18.4-x64.msi)  
- PostgreSQL  
[Windows](https://www.enterprisedb.com/downloads/postgres-postgresql-downloads)

### Setup
#### R setup
We need to install some packages:
- stopwords
- jsonlite
- tm
- quanteda
- stopwords
- dplyr
- tibble

1. Start R command line
```
R
```
2. Each package can be installed with the following command
```
install.packages("package-name")
```

#### Database setup
When installing PostgreSQL, we are asked to enter the password that will be used for the default role.  
After installing, we need to open the application "SQL Shell" to execute the necessary commands to create the database.  

Right now, we have a default role called postgres. Which can be used to connect our server application and the database server, but it's not recommended.
Therefore, we are going to create a new role:
```
CREATE ROLE codice1 WITH LOGIN CREATEDB PASSWORD 'codice1';
```
And a new database:
```
CREATE DATABASE codice_dev WITH OWNER codice1;
```
We can now close the shell and access with our new credentials.
The database structure as well as the example data can be generated by executing the SQL scripts present in *src/database/*

**NOTE**: In a *production environment*, the database should be placed in a text file called *.env*
that should be located in the root folder of the codice-server project. In the next format:
```
PROD_DB_DATABASE=example_db
PROD_DB_USERNAME=example_username
PROD_DB_PASSWORD=example_password
PROD_DB_HOST=example_host
```

#### Project setup
All required node packages can be installed locally (in the project folder) with the yarn install command in the project repository.
However, we also need to install the nodemon package globally:
```
npm i -g nodemon
```
Installing dependencies inside the project root folder
```
yarn install
```
Starting the development server inside the project root folder
```
yarn dev
```
